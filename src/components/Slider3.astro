---
import Heading from "../components/Heading.astro";
---

<!-- INFO SLIDER  -->
<div class="carousel w-full max-w-5xl mx-auto p-6">
  <!-- SLIDE 1 -->
  <div id="info1" class="carousel-item relative w-full">
    <div class="w-full rounded-2xl border-2 border-primaryblue60 bg-beige p-10">
      <!-- Arrows -->
      <div class="absolute right-6 top-6 flex gap-3">
        <a
          href="#info2"
          class="w-10 h-10 flex items-center justify-center border-2 border-primaryblue100 rounded-full text-primaryblue100"
        >
          ←
        </a>
        <a
          href="#info2"
          class="w-10 h-10 flex items-center justify-center border-2 border-primaryblue100 rounded-full text-primaryblue100"
        >
          →
        </a>
      </div>

      <!-- Content -->
      <Heading htmlheading="h3" size="medium">Vores vision</Heading>

      <p class="leading-relaxed mt-4 max-w-3xl">
        UngTilUng’s vision er at unge i alderen 18-35 år skal trives i deres
        liv, og have værktøjer og ressourcer til at håndtere hverdagens og
        livets udfordringer.  UngTilUng vil skabe et online univers, hvor unge
        kan dele deres udfordringer, tanker og følelser, samt give dem
        muligheden for at arbejde med sig selv gennem digitale initiativer og
        sunde fællesskaber.
      </p>
      <p class="mt-4 leading-relaxed max-w-3xl">
        Vi ønsker, at unge har mulighed for at lære af hinanden, støtte hinanden
        og have et fællesskab, hvor de kan skabe nye, sunde relationer. Alle
        unge skal vide, at de kan få hjælp til at håndtere deres udfordringer,
        og at de ikke er alene. Det skal ikke være tabubelagt at søge hjælp, men
        tværtimod noget at være stolt af. De unge skal vide, at de altid kan gå
        til UngTilUng.com og få hjælp og støtte fra andre unge og fra UngTilUngs
        mange frivillige.
      </p>
    </div>
  </div>

  <!-- SLIDE 2 -->
  <div id="info2" class="carousel-item relative w-full">
    <div
      class="w-full rounded-2xl border-2 border-primaryblue100 bg-beige p-10"
    >
      <!-- Arrows -->
      <div class="absolute right-6 top-6 flex gap-3">
        <a
          href="#info1"
          class="w-10 h-10 flex items-center justify-center border-2 border-primaryblue60 rounded-full text-primaryblue100"
        >
          ←
        </a>
        <a
          href="#info1"
          class="w-10 h-10 flex items-center justify-center border-2 border-primaryblue60 rounded-full text-primaryblue100"
        >
          →
        </a>
      </div>

      <!-- Content -->
      <Heading htmlheading="h3" size="medium">Vores mission</Heading>

      <p class="mt-4 font-bold leading-relaxed max-w-3xl">
        Vi hjælper unge gennem tre digitale tilbud:
      </p>
      <ul
        class="mt-3 list-inside list-disc space-y-2 text-slate-700 text-sm md:text-base"
      >
        <li>
          Anonym chatrådgivning – åben hver dag kl. 16–20 med frivillige, der
          møder de unge der, hvor de er. Akkrediteret af Rådgivning Danmark.
        </li>
        <li>
          Digitale samtaleforløb – 10 møder med en frivillig rådgiver efter et
          program med samtaler, øvelser og ressourcer.
        </li>
        <li>
          Digitale fællesskaber – 10 ugers forløb, hvor unge mødes om fælles
          interesser og støttes af frivillige.
        </li>
      </ul>
      <p class="mt-4 leading-relaxed max-w-3xl">
        Alle frivillige uddannes, så de kan give både forståelse og konkrete
        værktøjer. Vi skaber et trygt digitalt fællesskab, hvor unge kan dele
        udfordringer, få støtte og føle sig hørt – og dermed komme tættere på
        deres egne mål.
      </p>
    </div>
  </div>
</div>

<!-- DOTS -->
<div class="flex justify-center gap-4 mt-4">
  <a href="#info1" class="w-3 h-3 rounded-full bg-primaryblue60"></a>
  <a href="#info2" class="w-3 h-3 rounded-full border-2 border-primaryblue60"
  ></a>
</div>
<script>
  (function () {
    // Liste over slide ids i samme rækkefølge som i dit markup
    const slideIds = ["#info1", "#info2"];

    // Query slides and dots
    const slides = slideIds.map((id) => document.querySelector(id));
    const dots = [
      document.querySelector('a[href="#info1"]'),
      document.querySelector('a[href="#info2"]'),
    ];

    // Safety: hvis ikke fundet, stop
    if (slides.some((s) => !s) || dots.some((d) => !d)) return;

    function setActiveByHash() {
      const hash = window.location.hash || "#info1";
      const activeIndex =
        slideIds.indexOf(hash) !== -1 ? slideIds.indexOf(hash) : 0;

      slides.forEach((slide, idx) => {
        if (idx === activeIndex) {
          slide.classList.remove("hidden");
        } else {
          slide.classList.add("hidden");
        }
      });

      dots.forEach((dot, idx) => {
        if (idx === activeIndex) {
          dot.classList.add("bg-primaryblue60");
          dot.classList.remove("border-2", "bg-transparent");
        } else {
          dot.classList.remove("bg-primaryblue60");
          dot.classList.add("border-2", "bg-transparent");
        }
      });
    }

    // Initial set
    setActiveByHash();

    // Listen for changes when user clicks arrows (hash changes) or uses back/forward
    window.addEventListener("hashchange", setActiveByHash);

    // Also make dots clickable update instantly (they are anchors, but update classes immediately)
    dots.forEach((dot) => {
      dot.addEventListener("click", () => {
        // small timeout to let browser update hash first, then sync classes
        setTimeout(setActiveByHash, 10);
      });
    });
  })();
</script>
